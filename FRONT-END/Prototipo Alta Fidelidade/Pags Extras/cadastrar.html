<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WegOne - Cadastrar Documento</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="cadastrar.css">
</head>

<body>
    <!-- HEADER -->
    <header>
        <div class="header-container">
            <div class="logo-section">
                <div class="logo">W</div>
                <a href="../Pag Inicial/index.html" class="brand-name">WegOne</a>
            </div>
            
            <div class="header-actions">
                <select class="language-selector" id="language">
                    <option value="pt">üáßüá∑</option>
                    <option value="en">üá∫üá∏</option>
                    <option value="de">üá©üá™</option>
                    <option value="es">üá™üá∏</option>
                    <option value="zh">üá®üá≥</option>
                </select>
                
                <div class="profile-menu">
                    <div class="profile-btn">
                        <i class="fas fa-user"></i>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- NAVEGA√á√ÉO -->
    <nav>
        <div class="nav-container">
            <ul class="nav-list">
                <li class="nav-item"><a href="../Pag Inicial/index.html"><i class="fas fa-home"></i> In√≠cio</a></li>
                <li class="nav-item"><a href="../Pag Inicial/index.html#search"><i class="fas fa-search"></i> Pesquisar</a></li>
                <li class="nav-item active"><a href="#"><i class="fas fa-plus"></i> Cadastrar</a></li>
                <li class="nav-item"><a href="../Pags Extras/editar.html"><i class="fas fa-edit"></i> Editar</a></li>
                <li class="nav-item"><a href="#delete"><i class="fas fa-trash"></i> Excluir</a></li>
            </ul>
        </div>
    </nav>

    <!-- SE√á√ÉO HERO CADASTRAR -->
    <section class="hero-cadastrar">
        <div class="hero-container">
            <div class="hero-content">
                <div class="hero-icon-container">
                    <i class="fas fa-plus-circle hero-main-icon"></i>
                </div>
                <h1>Cadastrar Documento</h1>
                <p class="subtitle">Sistema de Cadastramento de Manuais e Documenta√ß√µes</p>
                <p class="description">
                    Adicione novos manuais t√©cnicos, especifica√ß√µes e documenta√ß√µes ao sistema WegOne. 
                    Preencha os campos abaixo com as informa√ß√µes precisas do documento.
                </p>
            </div>
        </div>
    </section>

    <!-- FORMUL√ÅRIO DE CADASTRO -->
    <section class="form-section">
        <div class="form-container">
            <div class="form-header">
                <h2>Informa√ß√µes do Documento</h2>
                <p>Preencha todos os campos obrigat√≥rios marcados com *</p>
            </div>

            <form class="cadastro-form" id="cadastroForm">
                <!-- Informa√ß√µes B√°sicas -->
                <div class="form-group-section">
                    <h3><i class="fas fa-info-circle"></i> Informa√ß√µes B√°sicas</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="titulo">T√≠tulo do Documento *</label>
                            <input type="text" id="titulo" name="titulo" required 
                                   placeholder="Ex: Manual do Inversor CFFW300">
                            <span class="form-error" id="titulo-error"></span>
                        </div>
                        
                        <div class="form-group">
                            <label for="codigo">C√≥digo do Produto *</label>
                            <input type="text" id="codigo" name="codigo" required 
                                   placeholder="Ex: CFFW300-15kW">
                            <span class="form-error" id="codigo-error"></span>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="categoria">Categoria *</label>
                            <select id="categoria" name="categoria" required>
                                <option value="">Selecione uma categoria</option>
                                <option value="inversores">Inversores de Frequ√™ncia</option>
                                <option value="motores">Motores El√©tricos</option>
                                <option value="transformadores">Transformadores</option>
                                <option value="geradores">Grupos Geradores</option>
                                <option value="automacao">Automa√ß√£o Industrial</option>
                                <option value="tintas">Tintas e Vernizes</option>
                                <option value="energia-renovavel">Energia Renov√°vel</option>
                                <option value="mobilidade">Mobilidade El√©trica</option>
                            </select>
                            <span class="form-error" id="categoria-error"></span>
                        </div>
                        
                        <div class="form-group">
                            <label for="versao">Vers√£o do Documento</label>
                            <input type="text" id="versao" name="versao" 
                                   placeholder="Ex: v2.3 ou Rev. 05">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="descricao">Descri√ß√£o *</label>
                        <textarea id="descricao" name="descricao" required rows="4" 
                                  placeholder="Descreva brevemente o conte√∫do e aplica√ß√£o do documento"></textarea>
                        <span class="form-error" id="descricao-error"></span>
                    </div>
                </div>

                <!-- Especifica√ß√µes T√©cnicas -->
                <div class="form-group-section">
                    <h3><i class="fas fa-cog"></i> Especifica√ß√µes T√©cnicas</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="potencia">Pot√™ncia/Capacidade</label>
                            <input type="text" id="potencia" name="potencia" 
                                   placeholder="Ex: 15kW, 500HP, 1000kVA">
                        </div>
                        
                        <div class="form-group">
                            <label for="tensao">Tens√£o Nominal</label>
                            <input type="text" id="tensao" name="tensao" 
                                   placeholder="Ex: 220V, 380V, 13.8kV">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="aplicacao">Aplica√ß√£o Principal</label>
                            <select id="aplicacao" name="aplicacao">
                                <option value="">Selecione a aplica√ß√£o</option>
                                <option value="industrial">Industrial</option>
                                <option value="comercial">Comercial</option>
                                <option value="residencial">Residencial</option>
                                <option value="infraestrutura">Infraestrutura</option>
                                <option value="mineracao">Minera√ß√£o</option>
                                <option value="petroquimica">Petroqu√≠mica</option>
                                <option value="agua-saneamento">√Ågua e Saneamento</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="normas">Normas Aplic√°veis</label>
                            <input type="text" id="normas" name="normas" 
                                   placeholder="Ex: IEC 61800, NBR 7094">
                        </div>
                    </div>
                </div>

                <!-- Upload de Arquivo -->
                <div class="form-group-section">
                    <h3><i class="fas fa-upload"></i> Upload do Documento</h3>
                    
                    <div class="file-upload-area" id="fileUploadArea">
                        <input type="file" id="documento" name="documento" accept=".pdf,.doc,.docx" hidden>
                        <div class="upload-content">
                            <i class="fas fa-cloud-upload-alt upload-icon"></i>
                            <p class="upload-text">Clique aqui ou arraste o arquivo</p>
                            <p class="upload-subtitle">Formatos aceitos: PDF, DOC, DOCX (m√°x. 50MB)</p>
                        </div>
                        <div class="file-preview" id="filePreview" style="display: none;">
                            <div class="file-info">
                                <i class="fas fa-file-pdf file-icon"></i>
                                <div class="file-details">
                                    <span class="file-name" id="fileName"></span>
                                    <span class="file-size" id="fileSize"></span>
                                </div>
                                <button type="button" class="remove-file" id="removeFile">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="upload-progress">
                                <div class="progress-bar" id="progressBar"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Informa√ß√µes Adicionais -->
                <div class="form-group-section">
                    <h3><i class="fas fa-tags"></i> Informa√ß√µes Adicionais</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="autor">Autor/Respons√°vel</label>
                            <input type="text" id="autor" name="autor" 
                                   placeholder="Nome do autor ou departamento respons√°vel">
                        </div>
                        
                        <div class="form-group">
                            <label for="dataAtualizacao">Data de Atualiza√ß√£o</label>
                            <input type="date" id="dataAtualizacao" name="dataAtualizacao">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="palavrasChave">Palavras-chave</label>
                        <input type="text" id="palavrasChave" name="palavrasChave" 
                               placeholder="Separe as palavras-chave por v√≠rgulas">
                        <small>Use palavras-chave para facilitar a busca do documento</small>
                    </div>

                    <div class="form-group">
                        <label for="observacoes">Observa√ß√µes</label>
                        <textarea id="observacoes" name="observacoes" rows="3" 
                                  placeholder="Informa√ß√µes adicionais, restri√ß√µes de uso, etc."></textarea>
                    </div>
                </div>

                <!-- Bot√µes de A√ß√£o -->
                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="limparForm">
                        <i class="fas fa-eraser"></i>
                        Limpar Campos
                    </button>
                    <button type="submit" class="btn-primary" id="submitBtn">
                        <i class="fas fa-save"></i>
                        Cadastrar Documento
                    </button>
                </div>
            </form>
        </div>
    </section>

    <!-- Modal de Sucesso -->
    <div class="modal-overlay" id="modalOverlay" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-icon success">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h3>Documento Cadastrado!</h3>
            </div>
            <div class="modal-body">
                <p>O documento foi cadastrado com sucesso no sistema WegOne.</p>
                <div class="modal-details">
                    <p><strong>T√≠tulo:</strong> <span id="modalTitulo"></span></p>
                    <p><strong>C√≥digo:</strong> <span id="modalCodigo"></span></p>
                    <p><strong>Categoria:</strong> <span id="modalCategoria"></span></p>
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn-secondary" id="novoDocumento">
                    <i class="fas fa-plus"></i>
                    Cadastrar Novo
                </button>
                <button class="btn-primary" id="voltarInicio">
                    <i class="fas fa-home"></i>
                    Voltar ao In√≠cio
                </button>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer>
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3>WegOne</h3>
                    <p>
                        Sistema oficial de consulta e gerenciamento de manuais t√©cnicos e pesquisas da WEG. 
                        Conectando tecnologia e inova√ß√£o para um futuro mais eficiente.
                    </p>
                    <div class="footer-social">
                        <a href="https://www.facebook.com" target="_blank" rel="external" class="social-link"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://www.instagram.com" target="_blank" rel="external" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="https://x.com" target="_blank" rel="external" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="https://br.linkedin.com" target="_blank" rel="external" class="social-link"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://www.youtube.com/" target="_blank" rel="external" class="social-link"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Navega√ß√£o</h4>
                    <ul>
                        <li><a href="../Pag Inicial/index.html">In√≠cio</a></li>
                        <li><a href="../Pag Inicial/index.html#search">Pesquisar</a></li>
                        <li><a href="#">Cadastrar</a></li>
                        <li><a href="#edit">Editar</a></li>
                        <li><a href="../Pag Inicial/index.html#about">Sobre</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Contato</h4>
                    <ul>
                        <li><a href="mailto:contato@wegone.com">contato@wegone.com</a></li>
                        <li><a href="tel:+5547900000000">(47) 90000-0000</a></li>
                        <li><a href="#">Suporte T√©cnico</a></li>
                        <li><a href="#">Central de Ajuda</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 WegOne - Sistema de Orienta√ß√µes. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        // Valida√ß√£o de formul√°rio
        const form = document.getElementById('cadastroForm');
        const fileInput = document.getElementById('documento');
        const fileUploadArea = document.getElementById('fileUploadArea');
        const filePreview = document.getElementById('filePreview');
        const submitBtn = document.getElementById('submitBtn');
        const modalOverlay = document.getElementById('modalOverlay');

        // Upload de arquivo com drag and drop
        fileUploadArea.addEventListener('click', () => {
            fileInput.click();
        });

        fileUploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            fileUploadArea.classList.add('drag-over');
        });

        fileUploadArea.addEventListener('dragleave', () => {
            fileUploadArea.classList.remove('drag-over');
        });

        fileUploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            fileUploadArea.classList.remove('drag-over');
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                handleFileSelect(files[0]);
            }
        });

        fileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                handleFileSelect(e.target.files[0]);
            }
        });

        function handleFileSelect(file) {
            // Validar tipo de arquivo
            const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];
            if (!allowedTypes.includes(file.type)) {
                alert('Formato de arquivo n√£o permitido. Use PDF, DOC ou DOCX.');
                return;
            }

            // Validar tamanho (50MB)
            if (file.size > 50 * 1024 * 1024) {
                alert('Arquivo muito grande. O tamanho m√°ximo √© 50MB.');
                return;
            }

            // Mostrar preview
            document.getElementById('fileName').textContent = file.name;
            document.getElementById('fileSize').textContent = formatFileSize(file.size);
            filePreview.style.display = 'block';
            fileUploadArea.querySelector('.upload-content').style.display = 'none';

            // Simular upload
            simulateUpload();
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        function simulateUpload() {
            const progressBar = document.getElementById('progressBar');
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 20;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                }
                progressBar.style.width = progress + '%';
            }, 200);
        }

        // Remover arquivo
        document.getElementById('removeFile').addEventListener('click', () => {
            fileInput.value = '';
            filePreview.style.display = 'none';
            fileUploadArea.querySelector('.upload-content').style.display = 'block';
            document.getElementById('progressBar').style.width = '0%';
        });

        // Valida√ß√£o em tempo real
        function validateField(fieldId, errorId, validationFn, errorMessage) {
            const field = document.getElementById(fieldId);
            const errorElement = document.getElementById(errorId);
            
            field.addEventListener('blur', () => {
                if (!validationFn(field.value)) {
                    errorElement.textContent = errorMessage;
                    field.classList.add('error');
                } else {
                    errorElement.textContent = '';
                    field.classList.remove('error');
                }
            });

            field.addEventListener('input', () => {
                if (field.classList.contains('error') && validationFn(field.value)) {
                    errorElement.textContent = '';
                    field.classList.remove('error');
                }
            });
        }

        // Configurar valida√ß√µes
        validateField('titulo', 'titulo-error', 
            value => value.trim().length >= 5, 
            'O t√≠tulo deve ter pelo menos 5 caracteres'
        );

        validateField('codigo', 'codigo-error', 
            value => value.trim().length >= 3, 
            'O c√≥digo deve ter pelo menos 3 caracteres'
        );

        validateField('categoria', 'categoria-error', 
            value => value !== '', 
            'Selecione uma categoria'
        );

        validateField('descricao', 'descricao-error', 
            value => value.trim().length >= 20, 
            'A descri√ß√£o deve ter pelo menos 20 caracteres'
        );

        // Limpar formul√°rio
        document.getElementById('limparForm').addEventListener('click', () => {
            if (confirm('Tem certeza que deseja limpar todos os campos?')) {
                form.reset();
                document.getElementById('removeFile').click();
                document.querySelectorAll('.form-error').forEach(error => error.textContent = '');
                document.querySelectorAll('.error').forEach(field => field.classList.remove('error'));
            }
        });

        // Submiss√£o do formul√°rio
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Validar campos obrigat√≥rios
            const requiredFields = ['titulo', 'codigo', 'categoria', 'descricao'];
            let hasErrors = false;

            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                const errorElement = document.getElementById(fieldId + '-error');
                
                if (!field.value.trim()) {
                    errorElement.textContent = 'Este campo √© obrigat√≥rio';
                    field.classList.add('error');
                    hasErrors = true;
                }
            });

            if (hasErrors) {
                alert('Por favor, corrija os erros antes de continuar.');
                return;
            }

            // Simular envio
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Cadastrando...';
            submitBtn.disabled = true;

            setTimeout(() => {
                // Preencher modal com dados
                document.getElementById('modalTitulo').textContent = document.getElementById('titulo').value;
                document.getElementById('modalCodigo').textContent = document.getElementById('codigo').value;
                document.getElementById('modalCategoria').textContent = document.getElementById('categoria').options[document.getElementById('categoria').selectedIndex].text;

                // Mostrar modal
                modalOverlay.style.display = 'flex';

                // Resetar bot√£o
                submitBtn.innerHTML = '<i class="fas fa-save"></i> Cadastrar Documento';
                submitBtn.disabled = false;
            }, 2000);
        });

        // A√ß√µes do modal
        document.getElementById('novoDocumento').addEventListener('click', () => {
            modalOverlay.style.display = 'none';
            form.reset();
            document.getElementById('removeFile').click();
            document.querySelectorAll('.form-error').forEach(error => error.textContent = '');
            document.querySelectorAll('.error').forEach(field => field.classList.remove('error'));
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        document.getElementById('voltarInicio').addEventListener('click', () => {
            window.location.href = '../Pag Inicial/index.html';
        });

        // Fechar modal clicando fora
        modalOverlay.addEventListener('click', (e) => {
            if (e.target === modalOverlay) {
                modalOverlay.style.display = 'none';
            }
        });

        // Efeito de scroll no header
        window.addEventListener('scroll', function() {
            const header = document.querySelector('header');
            if (window.scrollY > 100) {
                header.style.background = 'linear-gradient(135deg, rgba(2, 93, 168, 0.95) 0%, rgba(0, 115, 204, 0.95) 100%)';
                header.style.backdropFilter = 'blur(15px)';
            } else {
                header.style.background = 'linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%)';
                header.style.backdropFilter = 'blur(10px)';
            }
        });

        // Smooth scrolling para links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Anima√ß√£o de entrada dos elementos
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);
        
        // Observar elementos para anima√ß√£o
        document.querySelectorAll('.form-group-section').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(30px)';
            el.style.transition = 'all 0.6s ease';
            observer.observe(el);
        });
    </script>
</body>

</html>